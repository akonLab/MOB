{"ast":null,"code":"import _defineProperty from \"/Users/adaada/Documents/Frontend/coupon/coupon-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/adaada/Documents/Frontend/coupon/coupon-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adaada/Documents/Frontend/coupon/coupon-admin/src/app/products/AddProduct.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport { Form } from 'react-bootstrap'; // import { Editor } from \"@tinymce/tinymce-react\";\n\nimport { Link, Redirect } from 'react-router-dom';\nimport { token, addPromoCardUrl } from '../constant';\n\nconst AddProduct = () => {\n  const initialValues = {\n    description: \"\",\n    promoCodeCompanyId: \"\"\n  };\n\n  const _useState = useState(initialValues),\n        _useState2 = _slicedToArray(_useState, 2),\n        formValues = _useState2[0],\n        setFormValues = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        formErrors = _useState4[0],\n        setFormErrors = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSubmit = _useState6[0],\n        setIsSubmit = _useState6[1];\n\n  const handleChange = e => {\n    const _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n    setFormValues(_objectSpread({}, formValues, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setFormErrors(validate(formValues));\n    setIsSubmit(true);\n    alert(\"frm values: \" + JSON.stringify(formValues));\n    addApi();\n  };\n\n  function addApi() {\n    fetch(addPromoCardUrl, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authentication: 'Bearer ' + token\n      },\n      body: {\n        \"promoCodeCompanyId\": Number(formValues.promoCodeCompany),\n        \"description\": formValues.description\n      }\n    }).then(success => {\n      console.log(\"success: \" + JSON.stringify(success));\n      return React.createElement(Redirect, {\n        to: \"/all-product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      });\n    }).catch(error => console.log(\"error: \" + error));\n  }\n\n  useEffect(() => {\n    console.log(formErrors);\n\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(formValues);\n    }\n  }, [formErrors]);\n\n  const validate = values => {\n    const errors = {};\n\n    if (!values.promoCodeCompanyId) {\n      errors.email = \"promoCode CompanyId is required!\";\n    } // if (!values.password) {\n    //     errors.description = \"description is required\";\n    // }\n\n\n    return errors;\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    class: \" card \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \" card-body row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"   \", React.createElement(Link, {\n    to: \"/all-product\",\n    class: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Products\"), \" / Add new product\"))), React.createElement(\"div\", {\n    className: \"card mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form-sample\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"col-sm-3 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"div\", {\n    className: \"col-sm-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    name: \"description\",\n    value: formValues.description,\n    onChange: handleChange,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"col-sm-3 col-form-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Company id\"), React.createElement(\"div\", {\n    className: \"col-sm-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Form.Control, {\n    name: \"promoCodeCompanyId\",\n    value: formValues.promoCodeCompanyId,\n    onChange: handleChange,\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-gradient-primary btn-lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Create Product\")))))));\n}; // }\n\n\nexport default AddProduct;","map":{"version":3,"sources":["/Users/adaada/Documents/Frontend/coupon/coupon-admin/src/app/products/AddProduct.js"],"names":["React","Component","useState","useEffect","Form","Link","Redirect","token","addPromoCardUrl","AddProduct","initialValues","description","promoCodeCompanyId","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","handleChange","e","target","name","value","handleSubmit","preventDefault","validate","alert","JSON","stringify","addApi","fetch","method","headers","Accept","Authentication","body","Number","promoCodeCompany","then","success","console","log","catch","error","Object","keys","length","values","errors","email"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\nimport { Form } from 'react-bootstrap';\n// import { Editor } from \"@tinymce/tinymce-react\";\nimport { Link, Redirect } from 'react-router-dom';\nimport { token, addPromoCardUrl } from '../constant';\n\nconst AddProduct = () => {\n\n    const initialValues = {\n        description: \"\",\n        promoCodeCompanyId: \"\"\n    };\n\n    const [formValues, setFormValues] = useState(initialValues);\n    const [formErrors, setFormErrors] = useState({});\n    const [isSubmit, setIsSubmit] = useState(false);\n\n\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormValues({ ...formValues, [name]: value });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setFormErrors(validate(formValues));\n        setIsSubmit(true);\n\n        alert(\"frm values: \" + JSON.stringify(formValues));\n\n        addApi()\n    };\n\n    function addApi() {\n        fetch(addPromoCardUrl, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                Authentication: 'Bearer ' + token\n            },\n            body: {\n                \"promoCodeCompanyId\": Number(formValues.promoCodeCompany),\n                \"description\": formValues.description\n            }\n        }).then(success => {\n            console.log(\"success: \" + JSON.stringify(success));\n            return <Redirect to=\"/all-product\" />;\n        }).catch(error => console.log(\"error: \" + error));\n\n    }\n\n    useEffect(() => {\n        console.log(formErrors);\n        if (Object.keys(formErrors).length === 0 && isSubmit) {\n            console.log(formValues);\n        }\n\n    }, [formErrors]);\n\n    const validate = (values) => {\n        const errors = {};\n\n        if (!values.promoCodeCompanyId) {\n            errors.email = \"promoCode CompanyId is required!\";\n        }\n\n        // if (!values.password) {\n        //     errors.description = \"description is required\";\n        // }\n        return errors;\n    };\n\n    return (\n        <>\n            <div class=\" card \">\n                <div class=\" card-body row\">\n                    <p>   <Link to=\"/all-product\" class=\"text-muted\">Products</Link> / Add new product</p>\n                </div>\n            </div>\n\n            <div className=\"card mt-3\">\n                <div className=\"card-body\">\n                    <form onSubmit={handleSubmit} className=\"form-sample\">\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <Form.Group className=\"row\">\n                                    <label className=\"col-sm-3 col-form-label\">Description</label>\n                                    <div className=\"col-sm-9\">\n                                        <Form.Control\n                                            name=\"description\"\n                                            value={formValues.description}\n                                            onChange={handleChange}\n                                            type=\"text\"\n                                        />\n                                    </div>\n                                </Form.Group>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <Form.Group className=\"row\">\n                                    <label className=\"col-sm-3 col-form-label\">Company id</label>\n                                    <div className=\"col-sm-9\">\n                                        <Form.Control\n                                            name=\"promoCodeCompanyId\"\n                                            value={formValues.promoCodeCompanyId}\n                                            onChange={handleChange}\n                                            type=\"number\" />\n                                    </div>\n                                </Form.Group>\n                            </div>\n                        </div>\n\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <button\n                                    type=\"submit\"\n                                    className=\"btn btn-gradient-primary btn-lg\">Create Product</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n\n        </>\n\n    )\n}\n// }\n\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}